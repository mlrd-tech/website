<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Metrics# mlrd reports OpenTelemetry gauges and counters. Most metrics are table counters with a table_name tag. Metrics without a table_name tag are system metrics.
Counters# Counters are cumulative. For example, with a 5 second reporting frequency, a counter at 50 that increases by 20 every interval reports:
Interval Counter Value [0, 5) 50 [5, 10) 70 [10, 15) 90 Cumulative counters are standard for Prometheus and Grafana, but other platforms (like Datadog) expect counters to be deltas.
"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://mlrd.tech/docs/v0-beta/metrics/"><meta property="og:site_name" content="mlrd Docs"><meta property="og:title" content="mlrd Docs"><meta property="og:description" content="Metrics# mlrd reports OpenTelemetry gauges and counters. Most metrics are table counters with a table_name tag. Metrics without a table_name tag are system metrics.
Counters# Counters are cumulative. For example, with a 5 second reporting frequency, a counter at 50 that increases by 20 every interval reports:
Interval Counter Value [0, 5) 50 [5, 10) 70 [10, 15) 90 Cumulative counters are standard for Prometheus and Grafana, but other platforms (like Datadog) expect counters to be deltas."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="v0-beta"><meta itemprop=name content="mlrd Docs"><meta itemprop=description content="Metrics# mlrd reports OpenTelemetry gauges and counters. Most metrics are table counters with a table_name tag. Metrics without a table_name tag are system metrics.
Counters# Counters are cumulative. For example, with a 5 second reporting frequency, a counter at 50 that increases by 20 every interval reports:
Interval Counter Value [0, 5) 50 [5, 10) 70 [10, 15) 90 Cumulative counters are standard for Prometheus and Grafana, but other platforms (like Datadog) expect counters to be deltas."><meta itemprop=wordCount content="2032"><title>Metrics | mlrd Docs</title><link rel=icon href=/docs/favicon.png><link rel=manifest href=/docs/manifest.json><link rel=canonical href=https://mlrd.tech/docs/v0-beta/metrics/><link rel=stylesheet href=/docs/book.min.c7c5a7bad7c8651d49384a78f4991de1d9208d263da075dce6bbe494107c31b7.css integrity="sha256-x8WnutfIZR1JOEp49Jkd4dkgjSY9oHXc5rvklBB8Mbc=" crossorigin=anonymous><script defer src=/docs/fuse.min.js></script><script defer src=/docs/en.search.min.69bb41b6fa177e6f858857c10a5ad8581417ba9f0acf512ff1e5f43a84af7783.js integrity="sha256-abtBtvoXfm+FiFfBClrYWBQXup8Kz1Ev8eX0OoSvd4M=" crossorigin=anonymous></script></head><body dir=ltr class="book-kind-page book-type-v0-beta"><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/docs/><img src=/docs/img/mlrd-logo-v0.png alt=Logo><span>mlrd Docs</span></a></h2><div class="book-search hidden"><input id=book-search-input type=text placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><a href=/docs/v0-beta/>v0-beta</a><ul><li><a href=/docs/v0-beta/quick-start/>Quick Start</a></li><li><a href=/docs/v0-beta/high-level/>High Level</a></li><li><a href=/docs/v0-beta/concepts/>Concepts</a></li><li><input type=checkbox id=section-bba9f648e1c8239acdafe50731378ee0 class=toggle>
<label for=section-bba9f648e1c8239acdafe50731378ee0 class=flex><a role=button>Config</a>
<img src=/docs/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/docs/v0-beta/config/command-line/>Command Line</a></li><li><a href=/docs/v0-beta/config/feature-flags/>Feature Flags</a></li><li><a href=/docs/v0-beta/config/standard/>Standard</a></li><li><a href=/docs/v0-beta/config/sys/>Sys</a></li><li><a href=/docs/v0-beta/config/table/>Table</a></li><li><a href=/docs/v0-beta/config/mysql/>MySQL</a></li></ul></li><li><a href=/docs/v0-beta/metrics/ class=active>Metrics</a></li><li><input type=checkbox id=section-cf40158fdbef376e5228232dc90bf04d class=toggle>
<label for=section-cf40158fdbef376e5228232dc90bf04d class=flex><a role=button>Migration</a>
<img src=/docs/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/docs/v0-beta/migration/overview/>Overview</a></li><li><a href=/docs/v0-beta/migration/safety/>Safety</a></li><li><a href=/docs/v0-beta/migration/part-1/>Part 1: Compatiblity</a></li><li><a href=/docs/v0-beta/migration/part-2/>Part 2: Backfill</a></li><li><a href=/docs/v0-beta/migration/part-3/>Part 3: Verify SQL</a></li><li><a href=/docs/v0-beta/migration/part-4/>Part 4: Cut Over</a></li></ul></li><li><a href=/docs/v0-beta/supported-requests/>Supported Requests</a></li></ul></li><li><a href=/docs/table-modes/>Table Modes</a></li><li><a href=/docs/lockout/>Lockout</a></li></ul><div style="margin:1em 0">~</div><div style=display:flex;flex-direction:column;gap:1em><a href="mailto:early@mlrd.tech?subject=Join%20private%20beta&body=Let%27s%20talk%20about%20mlrd." style=color:#ff8c42>Join Beta</a>
<a href=/>mlrd.tech</a></div></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class="book-header hidden"><div class="flex align-center justify-between"><label for=menu-control><img src=/docs/icons/menu.svg class=book-icon alt=Menu></label><h3>Metrics</h3><label for=toc-control><img src=/docs/icons/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class=hidden><nav id=TableOfContents><ul><li><a href=#counters>Counters</a></li><li><a href=#gauges>Gauges</a></li><li><a href=#metric-naming-schema-and-prefixes>Metric Naming Schema and Prefixes</a></li><li><a href=#counter-groups>Counter Groups</a><ul><li><a href=#client-request>Client Request</a></li><li><a href=#ddb-request>DDB Request</a></li><li><a href=#sql-store-access>SQL Store Access</a></li><li><a href=#migration>Migration</a></li><li><a href=#error>Error</a></li></ul></li><li><a href=#gauge-groups>Gauge Groups</a><ul><li><a href=#response-time>Response Time</a></li><li><a href=#system>System</a></li><li><a href=#batch-sizes>Batch Sizes</a></li></ul></li><li><a href=#metric-reference>Metric Reference</a></li></ul></nav></aside></header><div class=beta-docs>Beta Preview Docs</div><article class="markdown book-article"><h1 id=metrics>Metrics<a class=anchor href=#metrics>#</a></h1><p>mlrd reports OpenTelemetry gauges and counters.
Most metrics are table counters with a <code>table_name</code> tag.
Metrics without a <code>table_name</code> tag are system metrics.</p><h2 id=counters>Counters<a class=anchor href=#counters>#</a></h2><p>Counters are cumulative.
For example, with a 5 second reporting frequency, a counter at 50 that increases by 20 every interval reports:</p><table><thead><tr><th>Interval</th><th>Counter Value</th></tr></thead><tbody><tr><td>[0, 5)</td><td>50</td></tr><tr><td>[5, 10)</td><td>70</td></tr><tr><td>[10, 15)</td><td>90</td></tr></tbody></table><p>Cumulative counters are standard for Prometheus and Grafana, but other platforms (like Datadog) expect counters to be deltas.</p><h2 id=gauges>Gauges<a class=anchor href=#gauges>#</a></h2><p>Gauges are reported as <code>G_max</code> and <code>G_pN</code> where:</p><ul><li><code>G</code> is the gauge name, like <code>response_time</code></li><li><code>_max</code> is the maximum value observed during the report interval</li><li><code>_pN</code> is one of the configured percentiles, like <code>G_p99</code> for the 99th percentile</li></ul><p>When graphing max and percentiles, use a max rollup.
(Do not average percentiles.)</p><p>The default percentiles are 50th (median) and 99th.</p><p>There is no average value because averages are a common metric anti-pattern.</p><p>Time values are milliseconds and whole number (no fractional time values).</p><h2 id=metric-naming-schema-and-prefixes>Metric Naming Schema and Prefixes<a class=anchor href=#metric-naming-schema-and-prefixes>#</a></h2><p>Metric names are lowercase and snake case, like <code>req_table</code>.</p><table><thead><tr><th>Prefix</th><th>Meaning</th></tr></thead><tbody><tr><td><code>backfill_</code></td><td>Backfill (migration)</td></tr><tr><td><code>ddb_</code></td><td>Call to AWS DDB</td></tr><tr><td><code>err_</code></td><td>Error</td></tr><tr><td><code>legacy_</code></td><td>Legacy parameters</td></tr><tr><td><code>projection_</code></td><td>Projection expression</td></tr><tr><td><code>readfill_</code></td><td>Readfill (migration)</td></tr><tr><td><code>req_</code></td><td>Client request</td></tr><tr><td><code>sql_</code></td><td>Call to SQL store (MySQL)</td></tr><tr><td><code>t_</code></td><td>Time (milliseconds)</td></tr></tbody></table><p>All metric names are globally unique.</p><p>To keep metric names short, counter metrics are logically grouped into hierarchies.
(Gauge metrics are grouped but not hierarchical.)
As a result, the prefix is often dropped for lower (more specific) metrics.</p><h2 id=counter-groups>Counter Groups<a class=anchor href=#counter-groups>#</a></h2><p>Counter increments cascade down a hierarchy.
A top-level metric is called a &ldquo;rollup metric&rdquo; because it adds (rolls) up lower values.
For example:</p><pre tabindex=0><code>req
    req_table
        req_write
            req_delete
                req_delete_cond
                    req_delete_cond_fail</code></pre><p>Every request increments the <code>req</code>.
If the request is a table request, it <em>also</em> increments <code>req_table</code>.
If the table request is a write, it <em>also</em> increments <code>req_write</code>.
If the write is <em>also</em> a delete (<code>DeleteItem</code>), it <em>also</em> increments <code>req_delete</code>.
If the delete is conditional (<code>ConditionExpression</code> is set), it <em>also</em> increments <code>req_delete_cond</code>.
And if the condition fails (does not pass), it <em>also</em> increments <code>req_delete_cond_fail</code>.</p><p>Therefore: <code>req > req_table > req_write > req_delete > req_delete_cond > req_delete_cond_fail</code>.
This makes it easy to graph, for example, the percentage of conditional deletes that fail: <code>req_delete_cond_fail / req_delete_cond * 100</code>.</p><p>There are 5 counter groups:</p><ul><li>Client Request (<code>req_</code>)</li><li>DDB Request (<code>ddb_</code>)</li><li>SQL store access (<code>sql_</code>)</li><li>Migration (<code>backfill_</code> and <code>readfill_</code>)</li><li>Error (<code>err_</code>, <code>fault</code>, and <code>panic</code>)</li></ul><p>Most metrics are table counters, but <code>*</code> denotes system counters (no <code>table_name</code> tag).</p><h3 id=client-request>Client Request<a class=anchor href=#client-request>#</a></h3><p>Client request metrics show what clients are requesting.
Normally, these metrics would also reflect server activity (for example, a client requests a read and the server does a read), but mlrd is a three-part system: API (mlrd), DDB, and a SQL store.
Especially during a migration, a single client request can result in multiple server-side requests.
Therefore, client request metrics are only a starting point for monitoring mlrd.</p><pre tabindex=0><code>req*
    req_fwd*
    req_ctrl*
    req_table
        req_read
            req_get_batch
            req_get_trx
            req_get_one
                req_get_one_nop
            req_query
                req_query_index
                req_query_page
            req_scan
                req_scan_index
                req_scan_page
            check_write_cond
        req_write
            req_write_batch
            req_write_trx
            req_put
                req_put_cond 
                    req_put_cond_fail
            req_delete
                req_delete_cond
                    req_delete_cond_fail
            req_update
                req_update_cond
                    req_update_cond_fail
        legacy_expr_cond
        legacy_expr_filter
        legacy_expr_key
        legacy_expr_projection
        legacy_expr_update
        projection_no_attribute
        projection_not_a_list
        projection_list_index_oob</code></pre><h3 id=ddb-request>DDB Request<a class=anchor href=#ddb-request>#</a></h3><p>DDB request metrics track calls from mlrd to AWS on behalf of clients.
Although AWS provides metrics for DDB, mlrd metrics are higher resolution (5s by default).
These metrics are also important during a migration to monitor the additional DDB request necessary to backfill items into SQL.</p><pre tabindex=0><code>ddb_get_item
ddb_put_item
ddb_update_item
ddb_delete_item
ddb_batch_get_item
ddb_batch_write_item
ddb_query
ddb_scan
ddb_ctrl
ddb_fwd</code></pre><h3 id=sql-store-access>SQL Store Access<a class=anchor href=#sql-store-access>#</a></h3><p>SQL store access metrics show data access to MySQL.
Although MySQL can (and should) be monitored separately, these metrics show access from the client side (mlrd is a client to MySQL).
During a migration it&rsquo;s important to monitor SQL read/write access with respect to DDB read/write access: the former (SQL) eventually takes over for the latter (DDB).</p><pre tabindex=0><code>sql_read
    sql_read_row
        sql_read_row_nop
    sql_read_set
    sql_scan
        sql_scan_index
        sql_scan_filter
        sql_scan_key_cond
        sql_scan_page
        sql_scan_count
        sql_scan_nop
sql_write
    sql_read_snapshot
    sql_read_cond
    sql_insert
    sql_update
        sql_upsert
    sql_delete
        sql_delete_nop</code></pre><h3 id=migration>Migration<a class=anchor href=#migration>#</a></h3><p>Migration metrics show backfill and readfill work.</p><pre tabindex=0><code>backfill_write
    backfill_rows_written
readfill_read
    readfill_rows_missing
    readfill_write
        readfill_rows_written</code></pre><h3 id=error>Error<a class=anchor href=#error>#</a></h3><p>Error metrics count every error mlrd can return.
The top-most (system) counter, <code>err</code>, should be monitored to establish a baseline (normal) error rate.
(Production systems usually have a non-zero error rate due unavoidable events like client discounts, network blips, and so on.)</p><p><code>panic</code> is in the error group but does not have an <code>err_</code> prefix because it&rsquo;s more of a bug (in mlrd) than an error.
<code>fault</code> is a serious, nonrecoverable (but caught) failure that means the SQL store data is invalid.</p><pre tabindex=0><code>err*
    err_http_read*
    err_http_write*
    err_decode_input*
    err_encode_output*
    err_unknown_table*
    err_table
        err_ddb
        err_sql
        err_trx
        err_backfill
        err_readfill
        err_encode_row
        err_decode_row
        err_metrics
    err_client
        err_unknown_index
        err_no_key_value
        err_expr_cond
        err_expr_filer
        err_expr_key
        err_expr_projection
        err_expr_update
panic*
fault*</code></pre><h2 id=gauge-groups>Gauge Groups<a class=anchor href=#gauge-groups>#</a></h2><p>Gauges are also grouped but not hierarchical.
There are 2 gauge groups:</p><ul><li>Response Time</li><li>System</li></ul><h3 id=response-time>Response Time<a class=anchor href=#response-time>#</a></h3><p>Response time gauges report how long requests and data access took (in milliseconds).
Since these are server-side measurements (inside mlrd), clients will observer <em>higher</em> response times due to network latency that mlrd cannot measure.</p><pre tabindex=0><code>t_req*
t_req_table_read
t_req_table_write
t_req_batch_read*
t_req_batch_write*
t_sql_read_row
t_sql_read_set
t_sql_scan
t_sql_insert
t_sql_update
t_sql_delete
t_ddb_read
t_ddb_write</code></pre><h3 id=system>System<a class=anchor href=#system>#</a></h3><p>Currently, there is only 1 system gauge group that measures system load (active requests).</p><pre tabindex=0><code>load*</code></pre><h3 id=batch-sizes>Batch Sizes<a class=anchor href=#batch-sizes>#</a></h3><pre tabindex=0><code>size_get_batch_items
size_write_batch_items</code></pre><h2 id=metric-reference>Metric Reference<a class=anchor href=#metric-reference>#</a></h2><p>Type: C=counter; G=gauge
System ✓: system metric; no <code>table_name</code> tag</p><div style=font-size:.8em><table><thead><tr><th>Name</th><th>Type</th><th>System</th><th>Description</th></tr></thead><tbody><tr><td><code>backfill_write</code></td><td>C</td><td></td><td>Number of SQL writes for backfilling data.</td></tr><tr><td><code>backfill_rows_written</code></td><td>C</td><td></td><td>Number of rows backfilled into SQL on write.</td></tr><tr><td><code>check_write_cond</code></td><td>C</td><td></td><td>Number of reads for a <code>ConditionCheck</code> in a <code>TransactWriteItems</code> request.</td></tr><tr><td><code>ddb_batch_get_item</code></td><td>C</td><td></td><td>Number of BatchGetItem calls to DDB.</td></tr><tr><td><code>ddb_batch_write_item</code></td><td>C</td><td></td><td>Number of BatchWriteItem calls to DDB.</td></tr><tr><td><code>ddb_ctrl</code></td><td>C</td><td></td><td>Number of control plan calls to DDB in addition to <code>req_ctrl</code>.</td></tr><tr><td><code>ddb_delete_item</code></td><td>C</td><td></td><td>Number of DeleteItem calls to DDB.</td></tr><tr><td><code>ddb_fwd</code></td><td>C</td><td></td><td>Number of requests forwarded to DDB (transparent proxy).</td></tr><tr><td><code>ddb_get_item</code></td><td>C</td><td></td><td>Number of GetItem calls to DDB.</td></tr><tr><td><code>ddb_put_item</code></td><td>C</td><td></td><td>Number of PutItem calls to DDB.</td></tr><tr><td><code>ddb_query</code></td><td>C</td><td></td><td>Number of Query calls to DDB.</td></tr><tr><td><code>ddb_scan</code></td><td>C</td><td></td><td>Number of Scan calls to DDB.</td></tr><tr><td><code>ddb_update_item</code></td><td>C</td><td></td><td>Number of UpdateItem calls to DDB.</td></tr><tr><td><code>err</code></td><td>C</td><td>✓</td><td>Number of <em>all</em> errors.</td></tr><tr><td><code>err_backfill</code></td><td>C</td><td></td><td>Number of errors backfilling SQL on write.</td></tr><tr><td><code>err_client</code></td><td>C</td><td></td><td>Number of client errors: invalid syntax, missing values, etc. Monitor this rollup metric per-table.</td></tr><tr><td><code>err_ddb</code></td><td>C</td><td></td><td>Number of errors returned by AWS/DDB, returned verbatim to client.</td></tr><tr><td><code>err_decode_input</code></td><td>C</td><td>✓</td><td>Number of errors decoding (unmarshalling) JSON input.</td></tr><tr><td><code>err_decode_row</code></td><td>C</td><td></td><td>Number of errors decoding (unmarshalling) JSON from SQL.</td></tr><tr><td><code>err_encode_output</code></td><td>C</td><td>✓</td><td>Number of errors encoding (marshalling) JSON output.</td></tr><tr><td><code>err_encode_row</code></td><td>C</td><td></td><td>Number of errors encoding (marshaling) JSON for SQL.</td></tr><tr><td><code>err_expr_cond</code></td><td>C</td><td></td><td>Number of conditional expression syntax errors.</td></tr><tr><td><code>err_expr_filer</code></td><td>C</td><td></td><td>Number of filter expression syntax errors.</td></tr><tr><td><code>err_expr_key</code></td><td>C</td><td></td><td>Number of key condition syntax errors.</td></tr><tr><td><code>err_expr_projection</code></td><td>C</td><td></td><td>Number of projection expression syntax errors.</td></tr><tr><td><code>err_expr_update</code></td><td>C</td><td></td><td>Number of update expression syntax errors.</td></tr><tr><td><code>err_http_read</code></td><td>C</td><td>✓</td><td>Number of HTTP read errors.</td></tr><tr><td><code>err_http_write</code></td><td>C</td><td>✓</td><td>Number of HTTP write errors.</td></tr><tr><td><code>err_metrics</code></td><td>C</td><td></td><td>Number of errors sending (reporting) metrics.</td></tr><tr><td><code>err_no_key_value</code></td><td>C</td><td></td><td>Number of requests that do not specify one or more required key value.</td></tr><tr><td><code>err_readfill</code></td><td>C</td><td></td><td>Number of errors backfilling SQL on read. Reported in log as warnings.</td></tr><tr><td><code>err_sql</code></td><td>C</td><td></td><td>Number of errors returned by SQL.</td></tr><tr><td><code>err_table</code></td><td>C</td><td>✓</td><td>Number of table access errors. Monitor this rollup metric for each table.</td></tr><tr><td><code>err_trx</code></td><td>C</td><td></td><td>Number of errors on SQL <code>BEGIN</code>, <code>COMMIT</code>, or <code>ROLLBACK</code>.</td></tr><tr><td><code>err_unknown_index</code></td><td>C</td><td></td><td>Number of requests that specify an unknown secondary index.</td></tr><tr><td><code>err_unknown_table</code></td><td>C</td><td>✓</td><td>Number of requests that specify an unknown table.</td></tr><tr><td><code>fault</code></td><td>C</td><td>✓</td><td>Number of serious runtime failures. This value should always be zero.</td></tr><tr><td><code>legacy_expr_cond</code></td><td>C</td><td></td><td>Number of requests that use legacy parameters instead of <code>ConditionExpression</code>.</td></tr><tr><td><code>legacy_expr_filter</code></td><td>C</td><td></td><td>Number of requests that use legacy parameters instead of <code>FilterExpression</code>.</td></tr><tr><td><code>legacy_expr_key</code></td><td>C</td><td></td><td>Number of <code>Query</code> requests that use legacy parameters instead of <code>KeyConditionExpression</code>.</td></tr><tr><td><code>legacy_expr_projection</code></td><td>C</td><td></td><td>Number of read requests that use legacy parameters instead of <code>ProjectionExpression</code>.</td></tr><tr><td><code>legacy_expr_update</code></td><td>C</td><td></td><td>Number of update requests that use legacy parameters instead of <code>UpdateExpression</code>.</td></tr><tr><td><code>load</code></td><td>G</td><td>✓</td><td>Number of active requests. Incremented by 1 when a request begins and decremented by 1 when the request ends.</td></tr><tr><td><code>panic</code></td><td>C</td><td>✓</td><td>Number of runtime panics.</td></tr><tr><td><code>projection_no_attribute</code></td><td>C</td><td></td><td>Number of attributes projected but not present in each item.</td></tr><tr><td><code>projection_not_a_list</code></td><td>C</td><td></td><td>Number of attributes projected as a list type but not a list in each item.</td></tr><tr><td><code>projection_list_index_oob</code></td><td>C</td><td></td><td>Number of attributes projected as a list but out of bounds for the list in each item.</td></tr><tr><td><code>readfill_read</code></td><td>C</td><td></td><td>Number of SQL reads for read-filling data.</td></tr><tr><td><code>readfill_rows_missing</code></td><td>C</td><td></td><td>Number of rows missing in SQL (for missfill).</td></tr><tr><td><code>readfill_write</code></td><td>C</td><td></td><td>Number of SQL writes for read-filling data.</td></tr><tr><td><code>readfill_rows_written</code></td><td>C</td><td></td><td>Number of rows backfilled into SQL on read.</td></tr><tr><td><code>req</code></td><td>C</td><td>✓</td><td>Number of <em>all</em> requests. Includes control plane requests like <code>ListTables</code>.</td></tr><tr><td><code>req_ctrl</code></td><td>C</td><td>✓</td><td>Number of control plane requests handled by mlrd.</td></tr><tr><td><code>req_delete</code></td><td>C</td><td></td><td>Number of delete requests.</td></tr><tr><td><code>req_delete_cond</code></td><td>C</td><td></td><td>Number of delete requests with a conditional expression.</td></tr><tr><td><code>req_delete_cond_fail</code></td><td>C</td><td></td><td>Number of conditional delete requests that fail the condition check.</td></tr><tr><td><code>req_fwd</code></td><td>C</td><td>✓</td><td>Number of requests forwarded to DDB, usually control plane requests.</td></tr><tr><td><code>req_get_batch</code></td><td>C</td><td></td><td>Number of batch read item requests (<code>BatchReadItem</code>).</td></tr><tr><td><code>req_get_one</code></td><td>C</td><td></td><td>Number of single-item get requests (<code>GetItem</code>).</td></tr><tr><td><code>req_get_one_nop</code></td><td>C</td><td></td><td>Number of single-item get requests that did not match an item.</td></tr><tr><td><code>req_put</code></td><td>C</td><td></td><td>Number of put (insert) requests.</td></tr><tr><td><code>req_put_cond</code></td><td>C</td><td></td><td>Number of put requests with a conditional expression.</td></tr><tr><td><code>req_put_cond_fail</code></td><td>C</td><td></td><td>Number of conditional insert requests that fail the condition check.</td></tr><tr><td><code>req_query</code></td><td>C</td><td></td><td>Number of query requests (<code>Query</code>).</td></tr><tr><td><code>req_query_index</code></td><td>C</td><td></td><td>Number of query requests that specify a secondary index (<em>not</em> the primary key).</td></tr><tr><td><code>req_query_page</code></td><td>C</td><td></td><td>Number of query requests that paginate by specifying starting key values (<code>ExclusiveStartKey</code>).</td></tr><tr><td><code>req_read</code></td><td>C</td><td></td><td>Number of table data read requests.</td></tr><tr><td><code>req_scan</code></td><td>C</td><td></td><td>Number of scan requests (<code>Scan</code>).</td></tr><tr><td><code>req_scan_index</code></td><td>C</td><td></td><td>Number of scan requests that specify a secondary index (<em>not</em> the primary key).</td></tr><tr><td><code>req_scan_page</code></td><td>C</td><td></td><td>Number of scan requests that paginate by specifying starting key values (<code>ExclusiveStartKey</code>).</td></tr><tr><td><code>req_table</code></td><td>C</td><td></td><td>Number of table data access requests (all table read and write requests). Use this metric to monitor table throughput as requests per second (RPS).</td></tr><tr><td><code>req_update</code></td><td>C</td><td></td><td>Number of update requests.</td></tr><tr><td><code>req_update_cond</code></td><td>C</td><td></td><td>Number of update requests with a conditional expression.</td></tr><tr><td><code>req_update_cond_fail</code></td><td>C</td><td></td><td>Number of conditional update requests that fail the condition check.</td></tr><tr><td><code>req_write</code></td><td>C</td><td></td><td>Number of table data write requests.</td></tr><tr><td><code>req_write_batch</code></td><td>C</td><td></td><td>Number of batch write requests (<code>BatchWriteItem</code>).</td></tr><tr><td><code>size_get_batch_items</code></td><td>G</td><td></td><td>Number of items requested in <code>BatchGetItem</code>.</td></tr><tr><td><code>size_write_batch_items</code></td><td>G</td><td></td><td>Number of writes requested in <code>BatchWriteItem</code>.</td></tr><tr><td><code>sql_delete</code></td><td>C</td><td></td><td>Number of SQL DELETE executed (not rows deleted).</td></tr><tr><td><code>sql_delete_nop</code></td><td>C</td><td></td><td>Number of SQL DELETE that did not match a row.</td></tr><tr><td><code>sql_insert</code></td><td>C</td><td></td><td>Number of SQL INSERT executed (not rows inserted).</td></tr><tr><td><code>sql_read</code></td><td>C</td><td></td><td>Number of SQL reads: row, set, and scan.</td></tr><tr><td><code>sql_read_cond</code></td><td>C</td><td></td><td>Number of SQL single-row reads for checking write condition.</td></tr><tr><td><code>sql_read_row</code></td><td>C</td><td></td><td>Number of SQL single-row reads (point lookups).</td></tr><tr><td><code>sql_read_row_nop</code></td><td>C</td><td></td><td>Number of SQL single-row reads that did not match a row.</td></tr><tr><td><code>sql_read_set</code></td><td>C</td><td></td><td>Number of SQL multi-row reads.</td></tr><tr><td><code>sql_read_snapshot</code></td><td>C</td><td></td><td>Number of SQL single-row reads for before/after/modified write values.</td></tr><tr><td><code>sql_scan</code></td><td>C</td><td></td><td>Number of SQL multi-row reads by scanning the primary key or an index (not rows read).</td></tr><tr><td><code>sql_scan_index</code></td><td>C</td><td></td><td>Number of SQL multi-row reads by scanning a secondary index.</td></tr><tr><td><code>sql_scan_filter</code></td><td>C</td><td></td><td>Number of SQL multi-row reads with a filter condition.</td></tr><tr><td><code>sql_scan_key_cond</code></td><td>C</td><td></td><td>Number of SQL multi-row reads with a key condition.</td></tr><tr><td><code>sql_scan_page</code></td><td>C</td><td></td><td>Number of SQL multi-row reads with an index offset to fetch next page of result set.</td></tr><tr><td><code>sql_scan_count</code></td><td>C</td><td></td><td>Number of SQL multi-row reads that <code>SELECT COUNT(*)</code> instead of returning rows.</td></tr><tr><td><code>sql_scan_nop</code></td><td>C</td><td></td><td>Number of SQL multi-row reads that match zero rows (empty result set) because conditions don&rsquo;t match or no more pages.</td></tr><tr><td><code>sql_update</code></td><td>C</td><td></td><td>Number of SQL UPDATE executed (not rows updated).</td></tr><tr><td><code>sql_upsert</code></td><td>C</td><td></td><td>Number of SQL INSERT due to no row on UPDATE.</td></tr><tr><td><code>sql_write</code></td><td>C</td><td></td><td>Number of SQL writes: INSERT, UPDATE, DELETE.</td></tr><tr><td><code>t_req</code></td><td>G</td><td>✓</td><td>Response time of <em>all</em> requests.</td></tr><tr><td><code>t_req_batch_read</code></td><td>G</td><td>✓</td><td>Response time of batch read requests.</td></tr><tr><td><code>t_req_batch_write</code></td><td>G</td><td>✓</td><td>Response time of batch write requests.</td></tr><tr><td><code>t_req_table_read</code></td><td>G</td><td></td><td>Response time of table read requests.</td></tr><tr><td><code>t_req_table_write</code></td><td>G</td><td></td><td>Response time of table write requests.</td></tr><tr><td><code>t_sql_read_row</code></td><td>G</td><td></td><td>Response time of SQL single-row reads.</td></tr><tr><td><code>t_sql_read_set</code></td><td>G</td><td></td><td>Response time of SQL multi-row reads.</td></tr><tr><td><code>t_sql_scan</code></td><td>G</td><td></td><td>Response time of SQL scans.</td></tr><tr><td><code>t_sql_delete</code></td><td>G</td><td></td><td>Response time of SQL deletes.</td></tr><tr><td><code>t_sql_insert</code></td><td>G</td><td></td><td>Response time of SQL inserts.</td></tr><tr><td><code>t_sql_update</code></td><td>G</td><td></td><td>Response time of SQL updates.</td></tr><tr><td><code>t_ddb_read</code></td><td>G</td><td></td><td>Response time of DDB read requests.</td></tr><tr><td><code>t_ddb_write</code></td><td>G</td><td></td><td>Response time of DDB write requests.</td></tr></tbody></table></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div></div><div></div></div><div class="flex flex-wrap justify-between"><span><a href=/docs/v0-beta/config/mysql/ class="flex align-center"><img src=/docs/icons/backward.svg class=book-icon alt=Backward>
<span>MySQL</span>
</a></span><span><a href=/docs/v0-beta/migration/overview/ class="flex align-center"><span>Overview</span>
<img src=/docs/icons/forward.svg class=book-icon alt=Forward></a></span></div><script>(function(){document.querySelectorAll("pre:has(code)").forEach(e=>{e.addEventListener("click",e.focus),e.addEventListener("copy",function(t){if(t.preventDefault(),navigator.clipboard){const t=window.getSelection().toString()||e.textContent;navigator.clipboard.writeText(t)}})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#counters>Counters</a></li><li><a href=#gauges>Gauges</a></li><li><a href=#metric-naming-schema-and-prefixes>Metric Naming Schema and Prefixes</a></li><li><a href=#counter-groups>Counter Groups</a><ul><li><a href=#client-request>Client Request</a></li><li><a href=#ddb-request>DDB Request</a></li><li><a href=#sql-store-access>SQL Store Access</a></li><li><a href=#migration>Migration</a></li><li><a href=#error>Error</a></li></ul></li><li><a href=#gauge-groups>Gauge Groups</a><ul><li><a href=#response-time>Response Time</a></li><li><a href=#system>System</a></li><li><a href=#batch-sizes>Batch Sizes</a></li></ul></li><li><a href=#metric-reference>Metric Reference</a></li></ul></nav></div></aside></main></body></html>